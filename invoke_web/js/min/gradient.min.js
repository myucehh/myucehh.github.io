function set_next(t){return t+1<gradients.length?t+1:0}function calc_step_size(t,e){return(t-e)/steps_total}function calc_steps(){for(var t in rgb_values)if(rgb_values.hasOwnProperty(t))for(var e=0;3>e;e++)rgb_values[t][e]=gradients[currentIndex][t][e],rgb_steps[t][e]=calc_step_size(gradients[nextIndex][t][e],rgb_values[t][e])}function updateGradient(){for(var t in rgb_values)if(rgb_values.hasOwnProperty(t))for(var e=0;3>e;e++)rgb_values[t][e]+=rgb_steps[t][e];var r="rgb("+(0|rgb_values.start[0])+","+(0|rgb_values.start[1])+","+(0|rgb_values.start[2])+")",s="rgb("+(0|rgb_values.stop[0])+","+(0|rgb_values.stop[1])+","+(0|rgb_values.stop[2])+")";if(r!=color1||s!=color2){color1=r,color2=s,div_style.backgroundImage="-webkit-gradient(linear, left bottom, right top, from("+color1+"), to("+color2+"))";for(var e=0;4>e;e++)div_style.backgroundImage=prefixes[e]+"linear-gradient(45deg, "+color1+", "+color2+")"}steps_count++,steps_count>steps_total&&(steps_count=0,currentIndex=set_next(currentIndex),nextIndex=set_next(nextIndex),calc_steps()),-1!=div_style.backgroundImage.indexOf("gradient")&&window.requestAnimationFrame(updateGradient)}var $div=document.getElementById("gradient"),gradients=[{start:[128,179,171],stop:[30,41,58]},{start:[255,207,160],stop:[234,92,68]},{start:[212,121,121],stop:[130,105,151]}],transition_time=4,currentIndex=0,nextIndex=1,steps_count=0,steps_total=Math.round(60*transition_time),rgb_steps={start:[0,0,0],stop:[0,0,0]},rgb_values={start:[0,0,0],stop:[0,0,0]},prefixes=["-webkit-","-moz-","-o-","-ms-",""],div_style=$div.style,color1,color2;calc_steps(),window.requestAnimationFrame(updateGradient);